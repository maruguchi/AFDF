clear all;

bh_ct_1 = 0;    bh_eq_1 = 0;
bh_ct_2 = 0;    bh_eq_2 = 0;
bh_ct_3 = 0;    bh_eq_3 = 0;
bh_ct_4 = 0;    bh_eq_4 = 0;

bs_ct_1 = 0;    bs_eq_1 = 0;
bs_ct_2 = 0;    bs_eq_2 = 0;
bs_ct_3 = 0;    bs_eq_3 = 0;
bs_ct_4 = 0;    bs_eq_4 = 0;

wh_ct_1 = 0;    wh_eq_1 = 0;
wh_ct_2 = 0;    wh_eq_2 = 0;
wh_ct_3 = 0;    wh_eq_3 = 0;
wh_ct_4 = 0;    wh_eq_4 = 0;

ws_ct_1 = 0;    ws_eq_1 = 0;
ws_ct_2 = 0;    ws_eq_2 = 0;
ws_ct_3 = 0;    ws_eq_3 = 0;
ws_ct_4 = 0;    ws_eq_4 = 0;

load results1.mat
bh_ct_1 = bh_ct_1 + BH_CT_1;    bh_eq_1 = bh_eq_1 + BH_EQ_1;
bh_ct_2 = bh_ct_2 + BH_CT_2;    bh_eq_2 = bh_eq_2 + BH_EQ_2;
bh_ct_3 = bh_ct_3 + BH_CT_3;    bh_eq_3 = bh_eq_3 + BH_EQ_3;
bh_ct_4 = bh_ct_4 + BH_CT_4;    bh_eq_4 = bh_eq_4 + BH_EQ_4;

bs_ct_1 = bs_ct_1 + BS_CT_1;    bs_eq_1 = bs_eq_1 + BS_EQ_1;
bs_ct_2 = bs_ct_2 + BS_CT_2;    bs_eq_2 = bs_eq_2 + BS_EQ_2;
bs_ct_3 = bs_ct_3 + BS_CT_3;    bs_eq_3 = bs_eq_3 + BS_EQ_3;
bs_ct_4 = bs_ct_4 + BS_CT_4;    bs_eq_4 = bs_eq_4 + BS_EQ_4;

wh_ct_1 = wh_ct_1 + WH_CT_1;    wh_eq_1 = wh_eq_1 + WH_EQ_1;
wh_ct_2 = wh_ct_2 + WH_CT_2;    wh_eq_2 = wh_eq_2 + WH_EQ_2;
wh_ct_3 = wh_ct_3 + WH_CT_3;    wh_eq_3 = wh_eq_3 + WH_EQ_3;
wh_ct_4 = wh_ct_4 + WH_CT_4;    wh_eq_4 = wh_eq_4 + WH_EQ_4;

ws_ct_1 = ws_ct_1 + WS_CT_1;    ws_eq_1 = ws_eq_1 + WS_EQ_1;
ws_ct_2 = ws_ct_2 + WS_CT_2;    ws_eq_2 = ws_eq_2 + WS_EQ_2;
ws_ct_3 = ws_ct_3 + WS_CT_3;    ws_eq_3 = ws_eq_3 + WS_EQ_3;
ws_ct_4 = ws_ct_4 + WS_CT_4;    ws_eq_4 = ws_eq_4 + WS_EQ_4;

load results2.mat
bh_ct_1 = bh_ct_1 + BH_CT_1;    bh_eq_1 = bh_eq_1 + BH_EQ_1;
bh_ct_2 = bh_ct_2 + BH_CT_2;    bh_eq_2 = bh_eq_2 + BH_EQ_2;
bh_ct_3 = bh_ct_3 + BH_CT_3;    bh_eq_3 = bh_eq_3 + BH_EQ_3;
bh_ct_4 = bh_ct_4 + BH_CT_4;    bh_eq_4 = bh_eq_4 + BH_EQ_4;

bs_ct_1 = bs_ct_1 + BS_CT_1;    bs_eq_1 = bs_eq_1 + BS_EQ_1;
bs_ct_2 = bs_ct_2 + BS_CT_2;    bs_eq_2 = bs_eq_2 + BS_EQ_2;
bs_ct_3 = bs_ct_3 + BS_CT_3;    bs_eq_3 = bs_eq_3 + BS_EQ_3;
bs_ct_4 = bs_ct_4 + BS_CT_4;    bs_eq_4 = bs_eq_4 + BS_EQ_4;

wh_ct_1 = wh_ct_1 + WH_CT_1;    wh_eq_1 = wh_eq_1 + WH_EQ_1;
wh_ct_2 = wh_ct_2 + WH_CT_2;    wh_eq_2 = wh_eq_2 + WH_EQ_2;
wh_ct_3 = wh_ct_3 + WH_CT_3;    wh_eq_3 = wh_eq_3 + WH_EQ_3;
wh_ct_4 = wh_ct_4 + WH_CT_4;    wh_eq_4 = wh_eq_4 + WH_EQ_4;

ws_ct_1 = ws_ct_1 + WS_CT_1;    ws_eq_1 = ws_eq_1 + WS_EQ_1;
ws_ct_2 = ws_ct_2 + WS_CT_2;    ws_eq_2 = ws_eq_2 + WS_EQ_2;
ws_ct_3 = ws_ct_3 + WS_CT_3;    ws_eq_3 = ws_eq_3 + WS_EQ_3;
ws_ct_4 = ws_ct_4 + WS_CT_4;    ws_eq_4 = ws_eq_4 + WS_EQ_4;

load results3.mat
bh_ct_1 = bh_ct_1 + BH_CT_1;    bh_eq_1 = bh_eq_1 + BH_EQ_1;
bh_ct_2 = bh_ct_2 + BH_CT_2;    bh_eq_2 = bh_eq_2 + BH_EQ_2;
bh_ct_3 = bh_ct_3 + BH_CT_3;    bh_eq_3 = bh_eq_3 + BH_EQ_3;
bh_ct_4 = bh_ct_4 + BH_CT_4;    bh_eq_4 = bh_eq_4 + BH_EQ_4;

bs_ct_1 = bs_ct_1 + BS_CT_1;    bs_eq_1 = bs_eq_1 + BS_EQ_1;
bs_ct_2 = bs_ct_2 + BS_CT_2;    bs_eq_2 = bs_eq_2 + BS_EQ_2;
bs_ct_3 = bs_ct_3 + BS_CT_3;    bs_eq_3 = bs_eq_3 + BS_EQ_3;
bs_ct_4 = bs_ct_4 + BS_CT_4;    bs_eq_4 = bs_eq_4 + BS_EQ_4;

wh_ct_1 = wh_ct_1 + WH_CT_1;    wh_eq_1 = wh_eq_1 + WH_EQ_1;
wh_ct_2 = wh_ct_2 + WH_CT_2;    wh_eq_2 = wh_eq_2 + WH_EQ_2;
wh_ct_3 = wh_ct_3 + WH_CT_3;    wh_eq_3 = wh_eq_3 + WH_EQ_3;
wh_ct_4 = wh_ct_4 + WH_CT_4;    wh_eq_4 = wh_eq_4 + WH_EQ_4;

ws_ct_1 = ws_ct_1 + WS_CT_1;    ws_eq_1 = ws_eq_1 + WS_EQ_1;
ws_ct_2 = ws_ct_2 + WS_CT_2;    ws_eq_2 = ws_eq_2 + WS_EQ_2;
ws_ct_3 = ws_ct_3 + WS_CT_3;    ws_eq_3 = ws_eq_3 + WS_EQ_3;
ws_ct_4 = ws_ct_4 + WS_CT_4;    ws_eq_4 = ws_eq_4 + WS_EQ_4;

load results4.mat
bh_ct_1 = bh_ct_1 + BH_CT_1;    bh_eq_1 = bh_eq_1 + BH_EQ_1;
bh_ct_2 = bh_ct_2 + BH_CT_2;    bh_eq_2 = bh_eq_2 + BH_EQ_2;
bh_ct_3 = bh_ct_3 + BH_CT_3;    bh_eq_3 = bh_eq_3 + BH_EQ_3;
bh_ct_4 = bh_ct_4 + BH_CT_4;    bh_eq_4 = bh_eq_4 + BH_EQ_4;

bs_ct_1 = bs_ct_1 + BS_CT_1;    bs_eq_1 = bs_eq_1 + BS_EQ_1;
bs_ct_2 = bs_ct_2 + BS_CT_2;    bs_eq_2 = bs_eq_2 + BS_EQ_2;
bs_ct_3 = bs_ct_3 + BS_CT_3;    bs_eq_3 = bs_eq_3 + BS_EQ_3;
bs_ct_4 = bs_ct_4 + BS_CT_4;    bs_eq_4 = bs_eq_4 + BS_EQ_4;

wh_ct_1 = wh_ct_1 + WH_CT_1;    wh_eq_1 = wh_eq_1 + WH_EQ_1;
wh_ct_2 = wh_ct_2 + WH_CT_2;    wh_eq_2 = wh_eq_2 + WH_EQ_2;
wh_ct_3 = wh_ct_3 + WH_CT_3;    wh_eq_3 = wh_eq_3 + WH_EQ_3;
wh_ct_4 = wh_ct_4 + WH_CT_4;    wh_eq_4 = wh_eq_4 + WH_EQ_4;

ws_ct_1 = ws_ct_1 + WS_CT_1;    ws_eq_1 = ws_eq_1 + WS_EQ_1;
ws_ct_2 = ws_ct_2 + WS_CT_2;    ws_eq_2 = ws_eq_2 + WS_EQ_2;
ws_ct_3 = ws_ct_3 + WS_CT_3;    ws_eq_3 = ws_eq_3 + WS_EQ_3;
ws_ct_4 = ws_ct_4 + WS_CT_4;    ws_eq_4 = ws_eq_4 + WS_EQ_4;

% Average.
bh_ct_1 = bh_ct_1 / 4;    bh_eq_1 = bh_eq_1 / 4;
bh_ct_2 = bh_ct_2 / 4;    bh_eq_2 = bh_eq_2 / 4;
bh_ct_3 = bh_ct_3 / 4;    bh_eq_3 = bh_eq_3 / 4;
bh_ct_4 = bh_ct_4 / 4;    bh_eq_4 = bh_eq_4 / 4;

bs_ct_1 = bs_ct_1 / 4;    bs_eq_1 = bs_eq_1 / 4;
bs_ct_2 = bs_ct_2 / 4;    bs_eq_2 = bs_eq_2 / 4;
bs_ct_3 = bs_ct_3 / 4;    bs_eq_3 = bs_eq_3 / 4;
bs_ct_4 = bs_ct_4 / 4;    bs_eq_4 = bs_eq_4 / 4;

wh_ct_1 = wh_ct_1 / 4;    wh_eq_1 = wh_eq_1 / 4;
wh_ct_2 = wh_ct_2 / 4;    wh_eq_2 = wh_eq_2 / 4;
wh_ct_3 = wh_ct_3 / 4;    wh_eq_3 = wh_eq_3 / 4;
wh_ct_4 = wh_ct_4 / 4;    wh_eq_4 = wh_eq_4 / 4;

ws_ct_1 = ws_ct_1 / 4;    ws_eq_1 = ws_eq_1 / 4;
ws_ct_2 = ws_ct_2 / 4;    ws_eq_2 = ws_eq_2 / 4;
ws_ct_3 = ws_ct_3 / 4;    ws_eq_3 = ws_eq_3 / 4;
ws_ct_4 = ws_ct_4 / 4;    ws_eq_4 = ws_eq_4 / 4;

save results1_4.mat bh_ct_1 bh_ct_2 bh_ct_3 bh_ct_4 bh_eq_1 bh_eq_2 bh_eq_3 bh_eq_4 bs_ct_1 bs_ct_2 bs_ct_3 bs_ct_4 bs_eq_1 bs_eq_2 bs_eq_3 bs_eq_4 wh_ct_1 wh_ct_2 wh_ct_3 wh_ct_4 wh_eq_1 wh_eq_2 wh_eq_3 wh_eq_4 ws_ct_1 ws_ct_2 ws_ct_3 ws_ct_4 ws_eq_1 ws_eq_2 ws_eq_3 ws_eq_4

snr = 0:3:24
figure(1), semilogy(snr, bh_ct_1, 'ko-', snr, bh_eq_1, 'ko--', snr, bs_ct_1, 'ks-', snr, bs_eq_1, 'ks--');
grid
axis([0 24 0.0001 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('BER')
figure(2), semilogy(snr, bh_ct_2, 'ko-', snr, bh_eq_2, 'ko--', snr, bs_ct_2, 'ks-', snr, bs_eq_2, 'ks--');
grid
axis([0 24 0.0001 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('BER')
figure(3), semilogy(snr, bh_ct_3, 'ko-', snr, bh_eq_3, 'ko--', snr, bs_ct_3, 'ks-', snr, bs_eq_3, 'ks--');
grid
axis([0 24 0.0001 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('BER')
figure(4), semilogy(snr, bh_ct_4, 'ko-', snr, bh_eq_4, 'ko--', snr, bs_ct_4, 'ks-', snr, bs_eq_4, 'ks--');
grid
axis([0 24 0.0001 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('BER')
figure(5), semilogy(snr, wh_ct_1, 'ko-', snr, wh_eq_1, 'ko--', snr, ws_ct_1, 'ks-', snr, ws_eq_1, 'ks--');
grid
axis([0 24 0.01 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('WER')
figure(6), semilogy(snr, wh_ct_2, 'ko-', snr, wh_eq_2, 'ko--', snr, ws_ct_2, 'ks-', snr, ws_eq_2, 'ks--');
grid
axis([0 24 0.01 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('WER')
figure(7), semilogy(snr, wh_ct_3, 'ko-', snr, wh_eq_3, 'ko--', snr, ws_ct_3, 'ks-', snr, ws_eq_3, 'ks--');
grid
axis([0 24 0.01 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('WER')
figure(8), semilogy(snr, wh_ct_4, 'ko-', snr, wh_eq_4, 'ko--', snr, ws_ct_4, 'ks-', snr, ws_eq_4, 'ks--');
grid
axis([0 24 0.01 1])
set(gca, 'xtick', [0 3 6 9 12 15 18 21 24])
legend('hard--constant-gain-allocation','hard--equal-power-allocation', 'soft--constant-gain-allocation', 'soft--equal-power-allocation', 'Location', 'SouthWest')
xlabel('SNR')
ylabel('WER')